.TH WEBMUX 1 "February 2026" "0.2" "Webmux Manual"
.SH NAME
webmux \- browser-based terminal multiplexer
.SH SYNOPSIS
.B webmux
[\fIOPTIONS\fR] [\fIDIRECTORY\fR]
.SH DESCRIPTION
.B webmux
is a browser-based terminal multiplexer. It runs an HTTP server that proxies to per-session \fBttyd\fR(1) instances backed by \fBtmux\fR(1) for persistence.
.P
Each terminal session runs inside a \fBtmux\fR session, allowing the terminal state to persist even when the browser disconnects. Reconnecting to a session resumes where you left off.
.P
The optional \fIDIRECTORY\fR argument sets the starting directory for new terminal sessions.

.SH OPTIONS
.TP
.BR \-port =\fIPORT\fR
HTTP server port. Default: \fB8080\fR
.TP
.BR \-shell =\fIPATH\fR
Shell to spawn in new terminal sessions. Default: \fB$SHELL\fR environment variable, or \fB/bin/bash\fR if unset.
.TP
.BR \-upload-dir =\fIPATH\fR
Directory for uploaded files. Default: \fB~/.local/share/webmux/uploads\fR

.SH CLI HELPER
Inside webmux terminals, the \fBwm\fR command is available as a shell function:
.TP
.B wm info
Show server info (upload dir, work dir).
.TP
.B wm ls
List all active sessions. Alias: \fBwm list\fR.
.TP
.B wm new \fR[\fIname\fR]
Create a new session with optional name.
.TP
.B wm close \fR\fIid\fR
Close a session by ID.
.TP
.B wm rename \fR\fIid\fR \fIname\fR
Rename a session.
.TP
.B wm upload \fR\fIfile\fR...
Upload files to the server.
.TP
.B wm scratch \fR[\fItext\fR]
Get or set scratch pad content. With no args or \fBget\fR, prints current text. Use \fB-\fR to read from stdin, \fBclear\fR to clear and close.
.TP
.B wm mark \fR[\fIfile\fR...]
List or mark files for download. Use \fBunmark\fR to remove, \fBclear\fR to clear all.
.TP
.B wm copy \fR[\fItext\fR]
Copy text to the server-side clipboard (reads from stdin if no arguments). Alias: \fBwm c\fR.
.TP
.B wm paste
Output server-side clipboard contents (last text copied via \fBwm copy\fR). Does not read the system clipboard. Aliases: \fBwm p\fR, \fBwm v\fR.
.TP
.B wm init
Output shell code that defines the wm wrapper function.

.SH FILES
.TP
.B $XDG_CONFIG_HOME/webmux/settings.json
UI and terminal color configuration. Defaults to \fB~/.config\fR.
.TP
.B $XDG_DATA_HOME/webmux/uploads
Default upload directory. Defaults to \fB~/.local/share\fR.
.TP
.B $XDG_DATA_HOME/webmux/tmux.sock
Tmux socket for session management. Defaults to \fB~/.local/share\fR.

.SH FEATURES
.TP
.B Session Management
Create, rename, and close terminal sessions from the web UI. Sessions persist until explicitly closed or the shell exits.
.TP
.B Split Panes
Group up to 4 terminals in resizable split layouts.
.TP
.B File Transfer
Upload files via drag-and-drop or file picker. Download files by browsing the server filesystem.
.TP
.B Scratch Pad
Exchange text between CLI and browser. Send from terminal with \fBwm scratch\fR, edit in browser.
.TP
.B Theming
Customizable UI and terminal colors using Base24 color schemes. Settings are persisted to disk.
.TP
.B Clipboard
Clipboard sync via OSC 52 and a server-side clipboard API. \fBwm copy\fR/\fBwm paste\fR and wrapper
scripts for wl-copy, wl-paste, xclip, xsel, pbcopy, and pbpaste provide CLI/TUI integration.
Browser tabs poll and sync it to the system clipboard; use Ctrl+Shift+V to paste from the system clipboard.

.SH EXAMPLES
.TP
Start webmux on default port:
.B webmux
.TP
Start in a specific directory:
.B webmux ~/projects
.TP
Start on a custom port:
.B webmux -port 3000
.TP
Use zsh as the default shell:
.B webmux -shell /bin/zsh

.SH ENVIRONMENT
.TP
.B WEBMUX_HOST
Full server address (host:port). Overrides \fBWEBMUX_PORT\fR for the \fBwm\fR command.
.TP
.B WEBMUX_PORT
Set automatically in webmux terminals. Used by the \fBwm\fR command to connect to the server.
.TP
.B WEBMUX_SESSION
Set automatically in webmux terminals. The current session ID.
.TP
.B WEBMUX_INIT
Set automatically in webmux terminals. Path to the shell init script.
.TP
.B WEBMUX_CLIPBOARD
Clipboard mode indicator. Set to \fBosc52\fR in webmux terminals.

.SH REQUIREMENTS
.B webmux
requires
.B ttyd
and
.B tmux
to be installed and available in PATH.

.SH SEE ALSO
.BR ttyd (1),
.BR tmux (1)
